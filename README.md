# Точки пополнения

Не используя сторонних библиотек, реализовано приложение для отображения точек пополнения на карте.

- Приложение представляет из себя один экран карту, на карте кнопки для изменения масштаба и определения текущего местоположения.

- Радиус поиска ограничивается размерами карты на экране (от центра до крайнего верхнего края). 

- Полученные данные кэшируются в Core Data, причем запись происходит в одном потоке, а получение для отображения - в другом. 

- Для иконок реализован механизм, который не перезакачивает иконку если согласно полю HTTP-заголовка Last-Modified этого не требуется.

- Партнёры и точки на карте связаны 1 ко многим. 

- Одному партнёру Евросеть может соответствовать от 0 до +бесконечность точек пополения. Связь по полям: партнёр.id = точка на карте. partnerName.

- На карте отображаются аннотации с иконками партнеров


## Апи

Загрузка иконки партнера

``` 
https://static.tinkoff.ru/icons/deposition-partners-v3/{dpi}/contact.png, где {dpi} - DPI экрана (mdpi, hdpi, xhdpi, xxhdpi).
```

Точки на карте

```
https://api.tinkoff.ru/v1/deposition_points?latitude=55.755786&longitude=37.617633&partners=EUROSET&radius=1000  - для партнеров
https://api.tinkoff.ru/v1/deposition_points?latitude=55.755786&longitude=37.617633&radius=1000 - все
```

Партнёр

```
https://api.tinkoff.ru/v1/deposition_partners?accountType=Credit
```